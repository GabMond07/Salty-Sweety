---
import Layout from "../layouts/Layout.astro";
import Catalogo from "../components/Catalogo-section.astro";
import Features from "../components/Features-section.astro";
import Footer from "../components/Footer.astro";
---

<Layout title="Salty & Sweety">
  <script
    type="module"
    src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"
  ></script>
  <section class="hero-section">
    <!-- Aurora Dream Diagonal Flow Gradient -->
    <div
      class="absolute inset-0 z-0 pointer-events-none"
      style="background: radial-gradient(ellipse 80% 60% at 5% 40%, rgba(175, 109, 255, 0.48), transparent 67%), radial-gradient(ellipse 70% 60% at 45% 45%, rgba(255, 100, 180, 0.41), transparent 67%), radial-gradient(ellipse 62% 52% at 83% 76%, rgba(255, 235, 170, 0.44), transparent 63%), radial-gradient(ellipse 60% 48% at 75% 20%, rgba(120, 190, 255, 0.36), transparent 66%), linear-gradient(45deg, #f7eaff 0%, #fde2ea 100%);"
    >
    </div>

    <!-- Elementos decorativos flotantes -->
    <div class="absolute inset-0 z-5 pointer-events-none overflow-hidden">
      <!-- Part√≠culas flotantes -->
      <div
        class="animate-float-slow absolute top-20 left-10 w-3 h-3 bg-[var(--accent)] rounded-full opacity-60"
      >
      </div>
      <div
        class="animate-float-medium absolute top-32 right-20 w-2 h-2 bg-[var(--primary)] rounded-full opacity-50"
      >
      </div>
      <div
        class="animate-float-fast absolute bottom-40 left-20 w-4 h-4 bg-pink-300 rounded-full opacity-40"
      >
      </div>
      <div
        class="animate-float-slow absolute bottom-60 right-16 w-2.5 h-2.5 bg-blue-300 rounded-full opacity-50"
      >
      </div>

      <!-- Formas geom√©tricas sutiles -->
      <div
        class="animate-pulse-subtle absolute top-16 right-10 w-8 h-8 border-2 border-[var(--accent)] rotate-45 opacity-30"
      >
      </div>
      <div
        class="animate-pulse-subtle absolute bottom-20 left-8 w-6 h-6 border-2 border-[var(--primary)] rounded-full opacity-25"
      >
      </div>
    </div>

    <div
      class="hero-content flex flex-col items-center justify-center mx-auto w-full h-full min-h-[100dvh] gap-6 px-4 py-8"
    >
      <!-- 3D Models - Responsive positioning -->
      <div class="w-full flex justify-center relative order-1 md:order-none">
        <!-- Strawberry Pound Cake - Top right on desktop -->
        <model-viewer
          class="animate-model w-[225px] h-[125px] sm:w-[240px] sm:h-[140px] md:w-[240px] md:h-[140px] lg:w-[280px] lg:h-[180px] md:absolute md:top-[-50px] md:right-0 md:lg:right-[50px] xl:right-[100px] z-20"
          src="/strawberry_pound_cake.glb"
          alt="3D model of a strawberry pound cake"
          auto-rotate
          shadow-intensity=".8"
          exposure="1.2"
          loading="eager"
        >
        </model-viewer>

        <!-- Cherry Cake - Bottom left on desktop, hidden on mobile -->
        <model-viewer
          class="hidden md:block animate-model w-[225px] h-[125px] sm:w-[240px] sm:h-[140px] md:w-[250px] md:h-[150px] lg:w-[280px] lg:h-[180px] md:absolute md:top-[-60px] md:left-0 md:lg:left-[50px] xl:left-[100px] z-20"
          src="/cake_with_cherry.glb"
          alt="3D model of a cake with cherry"
          auto-rotate
          shadow-intensity=".8"
          exposure="1.2"
          loading="eager"
        >
        </model-viewer>
      </div>

      <!-- Contenido principal -->
      <div
        class="w-full flex flex-col items-center justify-center gap-4 order-2 md:order-none max-w-4xl"
      >
        <!-- T√≠tulos con mejor jerarqu√≠a -->
        <div class="text-center space-y-2 md:space-y-4">
          <!-- Badge decorativo -->
          <div
            class="animate-badge inline-block px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium text-[var(--primary)] border border-white/30 mb-4"
          >
            ‚ú® Postres Artesanales ‚ú®
          </div>

          <h1
            class="animate-title text-6xl sm:text-6xl md:text-7xl lg:text-8xl text-[var(--primary)] font-serif drop-shadow-lg leading-tight"
            style="font-family: 'Playfair Display', serif;"
          >
            Salty & Sweety
          </h1>

          <h2
            class="animate-subtitle text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-[var(--accent)] font-semibold"
            style="font-family: 'Poppins', sans-serif;"
          >
            Postres que Enamoran
          </h2>
        </div>

        <!-- Descripci√≥n mejorada -->
        <div class="text-center space-y-4 max-w-2xl">
          <p
            class="animate-description text-base sm:text-lg md:text-xl text-[var(--mutedForeground)] leading-relaxed"
            style="font-family: 'Open Sans', sans-serif;"
          >
            Descubre nuestra colecci√≥n de postres artesanales, elaborados con
            amor y los mejores ingredientes. Cada bocado es una experiencia
            √∫nica.
          </p>

          <!-- Features destacadas -->
          <div
            class="animate-features flex flex-wrap justify-center gap-4 text-sm md:text-base text-[var(--foreground)] opacity-80"
          >
            <span class="flex items-center gap-1">
              üç∞ <span>100% Artesanal</span>
            </span>
            <span class="flex items-center gap-1">
              üåü <span>Ingredientes Premium</span>
            </span>
            <span class="flex items-center gap-1">
              üíù <span>Hecho con Amor</span>
            </span>
          </div>
        </div>

        <!-- Botones de acci√≥n -->
        <div
          class="flex flex-col sm:flex-row gap-4 items-center justify-center w-full max-w-md"
        >
          <a
            href="#catalogo"
            class="animate-button-primary w-full sm:w-auto text-lg px-8 py-3 rounded-[var(--radius-md)] bg-[var(--primary)] text-[var(--primaryForeground)] hover:bg-[var(--accent)] hover:text-[var(--accentForeground)] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 text-center"
            style="font-family: 'Poppins', sans-serif;"
          >
            Ver Nuestra Carta
          </a>

          <a
            href="https://wa.me/2215874344?text=Holaaaa%2C%20me%20puedes%20dar%20informaci%C3%B3n%20del%20cat%C3%A1logo%20de%20sus%20postres%20por%20favor%3F%20c%3A"
            class="animate-button-secondary w-full sm:w-auto text-lg px-8 py-3 rounded-[var(--radius-md)] bg-white/20 backdrop-blur-sm border border-white/30 text-[var(--foreground)] hover:bg-white/30 transition-all duration-300 shadow-md hover:shadow-lg text-center"
            style="font-family: 'Poppins', sans-serif;"
            target="_blank"
          >
            Cont√°ctanos
          </a>
        </div>

        <!-- Mensaje motivacional -->
        <div class="animate-message text-center mt-2">
          <p
            class="text-base md:text-lg text-[var(--primary)] font-semibold"
            style="font-family: 'Poppins', sans-serif;"
          >
            ¬°Te van a encantar! üíñ
          </p>
          <p
            class="text-sm text-[var(--mutedForeground)] mt-1"
            style="font-family: 'Source Code Pro', monospace;"
          >
            ‚Ä¢ Sabores √∫nicos ‚Ä¢ Momentos especiales
          </p>
        </div>
      </div>

      <!-- Indicador de scroll -->
      <div
        class="hidden md:flex animate-scroll-indicator absolute left-1/2 -translate-x-1/2 flex-col items-center gap-2 text-[var(--mutedForeground)] order-3 bottom-0 mt-4 md:bottom-4 lg:bottom-0"
      >
        <span class="text-xs font-medium">Descubre m√°s</span>
        <div
          class="w-0.5 h-8 bg-gradient-to-b from-[var(--primary)] to-transparent animate-pulse"
        >
        </div>
      </div>
    </div>
  </section>
  <Catalogo />
  <Features />
  <Footer />
  <script>
    // Solo mantenemos la configuraci√≥n de model-viewer
    const modelViewers = document.querySelectorAll("model-viewer");
    modelViewers.forEach((modelViewer) => {
      modelViewer.addEventListener("progress", (event) => {
        const target = event.target as HTMLElement & {
          shadowRoot?: ShadowRoot;
        };
        if (target && target.shadowRoot) {
          const progressBar = target.shadowRoot.querySelector(".progress-bar");
          if (progressBar) {
            (progressBar as HTMLElement).style.display = "none";
          }
        }
      });
    });
  </script>
</Layout>
